<!DOCTYPE html>
<html>
<head>
	<title>Ping Pong Game</title>
	<link rel="stylesheet" href="css/app.css">
</head>
<body>
	<canvas id="canvas"></canvas>
	<script type="text/javascript" src="js/app.js"></script>
	<script type="text/javascript" src="js/resize.js"></script>
	<script type="text/javascript">
		app.onInit = function(){
			// add nodes
			this.nodes.push({
				id : 'midline',
				x  : app.width / 2 - 10,
				y  : 0,
				width  : 20,
				height : app.height,
				color  : 'black',
			});

			this.nodes.push({
				id : 'player1',
				x  : 10,
				y  : app.height / 2 - 50,
				width  : 20,
				height : 100,
				color  : 'black',
				direction : 0
			});

			this.nodes.push({
				id : 'player2',
				x  : app.width - 30,
				y  : app.height / 2 - 50,
				width  : 20,
				height : 100,
				color  : 'black',
				direction : 0
			});
		};

		app.onUpdate = function(time){
			this.getNode('black-box').y++;

			if(Math.cos(this.timestamp / 100) > 0){
				this.getNode('red-box').direction = -1;
			}else{
				this.getNode('red-box').direction = 1;
			}

			this.getNode('red-box').x+=this.getNode('red-box').direction;
		};
	</script>
</body>
</html>