<!DOCTYPE html>
<html>
<head>
	<title>Ping Pong Game</title>
	<link rel="stylesheet" href="css/app.css">
</head>
<body>
	<canvas id="canvas"></canvas>
	<script type="text/javascript" src="js/app.js"></script>
	<script type="text/javascript" src="js/resize.js"></script>
	<script type="text/javascript" src="js/pad.js"></script>
	<script type="text/javascript" src="js/ball.js"></script>
	<script type="text/javascript">
		let player1 = new Pad('player1', 10, app.height / 2 - 50, 'w', 's');
		let player2 = new Pad('player2', app.width - 30, app.height / 2 - 50, 'ArrowUp', 'ArrowDown');
		let ball = new Ball('ball', app.width / 2 - 5, app.height / 2 - 5);

		app.restartMatch = function() {
			ball.resetPosition();
			player1.resetPosition();
			player2.resetPosition();
		}

		app.onInit = function(){
			// add nodes
			this.nodes.push({
				id : 'midline',
				x  : app.width / 2 - 10,
				y  : 0,
				width  : 20,
				height : app.height,
				color  : 'black',
			});

			this.nodes.push(player1);
			this.nodes.push(player2);
			this.nodes.push(ball);
		};

		app.onUpdate = function(time){
			player1.update(time);
			player2.update(time);
			ball.update(time);
		};
	</script>
</body>
</html>